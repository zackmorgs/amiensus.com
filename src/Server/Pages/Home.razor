@page "/"

@using Microsoft.AspNetCore.Components.Web
@using Client.Components;
@using Server.Services;
@using Server.Models;



@inject BlogPostService BlogPostService;

@code {
    public List<BlogPost> blogPosts = new List<BlogPost>();

    protected override async Task OnInitializedAsync()
    {
        blogPosts = await BlogPostService.GetAllBlogPosts();
    }

}
<PageTitle>Amiensus | Home</PageTitle>

<section id="hero_main_container" class="relative">
    <div id="hero_main_overlay" class="absolute top-0 right-0 bottom-0 left-0"></div>
    <header id="hero_main" class="hero relative flex flex-col items-center justify-center">
        <img id="hero_logo" src="/img/amiensus-logo-foil.png" alt="Amiensus Logo" class="mx-auto" />
        @* <div id="hero_text" class="absolute bottom-0 right-0 left-0 pt-2 pb-4">
            <p id="hero_genre" class="subititle italic">Progressive Black Metal</p>
            <p class="subtitle">Midwestern US</p>
        </div> *@
        <a class="btn btn-white" href="">
            <img src="/svg/bandcamp.svg" class="icon" />
        </a>
        <div class="flex flex-col lg:flex-row">
            <div id="streaming_links" class="flex-row items-center justify-around">
                <a target="_blank" href="https://open.spotify.com/artist/2Rie2HMfNzg82CEux0LnLV" class="btn">
                    <img src="/svg/spotify.svg" class="icon" />
                </a>
                <a target="_blank" href="https://music.apple.com/us/artist/amiensus/385872156" class="btn">
                    <img src="/svg/itunes.svg" class="icon" />
                </a>
                <a target="_blank" href="https://www.youtube.com/&#64;Amiensus" class="btn">
                    <img src="/svg/youtube.svg" class="icon" />
                </a>
            </div>
            <div id="social_links" class="flex-row items-center justify-around">
                <a target="_blank" href="https://www.facebook.com/Amiensus" class="btn">
                    <img src="/svg/facebook.svg" class="icon" />
                </a>
                <a target="_blank" href="https://www.instagram.com/amiensus" class="btn">
                    <img src="/svg/instagram.svg" class="icon" />
                </a>
                <a target="_blank" href="https://www.tiktok.com/@@amiensus" class="btn">
                    <img src="/svg/tiktok.svg" class="icon" />
                </a>
            </div>

        </div>
        <div id="label_link" class="flex flex-row justify-center">
            <a target="_blank" href="https://www.m-theoryaudio.com/" class="btn btn-lg">
                <img src="/img/m-theory-logo.jpg" class="icon rounded" />
            </a>
        </div>
    </header>
</section>
<section>
    <div class="max-w-lg mx-auto">
        <div class="p-4">
            <div class="panel">
                <h2 class="text-xl">Latest Posts</h2>
                <hr class="rule mt-2" />
                @if (blogPosts.Count > 0)
                {
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                        @foreach (var post in blogPosts)
                        {
                            <div class="blog-post-frontpage">
                                <a href="/blog-posts/@post.Id">

                                </a>
                            </div>
                        }
                    </div>
                }
                else
                {
                    <p id="no-posts" class="mt-4">No posts found.</p>
                }
            </div>
        </div>
    </div>
</section>
